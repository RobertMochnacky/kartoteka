{% extends "base.html" %}
{% block title %}{{ customer.name }}{% endblock %}

{% block content %}
<div class="container mt-4">

  <!-- Customer Card -->
  <div class="card rounded-0 border-0 shadow-sm">
    <div class="card-header rounded-0" 
         style="background-color: var(--sidebar-bg-light); color: var(--text-dark);">
      <h2 class="mb-0">{{ customer.name }}</h2>
    </div>

    <div class="card-body rounded-0">
      <p><strong>{{ _("Email") }}:</strong> {{ customer.email }}</p>
      <p><strong>{{ _("Phone") }}:</strong> {{ customer.phone }}</p>
      <p><strong>{{ _("Address") }}:</strong> {{ customer.address }}</p>

      <h4 class="mt-4">{{ _("Activities") }}</h4>
      {% if customer.activities %}
        <ul class="list-group rounded-0">
          {% for act in customer.activities %}
            <li class="list-group-item rounded-0">
              {{ act.text }}<br>
              <small class="text-muted">
                {{ _("Added by") }} {{ act.creator.username }}
                {{ _("on") }} {{ act.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}
              </small>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>{{ _("No activities yet.") }}</p>
      {% endif %}

      <!-- Buttons -->
      <div class="mt-3 d-flex flex-wrap gap-2">
        <a href="{{ url_for('main.add_activity', customer_id=customer.id) }}" 
           class="btn btn-primary rounded-0">{{ _("Add Activity") }}</a>
        <a href="{{ url_for('main.customers') }}" 
           class="btn btn-secondary rounded-0">{{ _("Back to Customers") }}</a>
        <a href="{{ url_for('main.dashboard') }}" 
           class="btn btn-secondary rounded-0">{{ _("Back to Dashboard") }}</a>
      </div>
    </div>
  </div>

</div>
{% endblock %}
